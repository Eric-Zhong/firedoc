<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>lib_ast.js</title>
  <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
  <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
  <link rel="shortcut icon" type="image/ico" href="../assets/favicon.ico">
  <link rel="stylesheet" href="../assets/css/solarized_light.css">
  <script src="../assets/vendor/yui-min.js"></script>
</head>
<body>

<div id="doc">
  <header class="main-header">
    <div class="content">
      <div class="project-title">
        <a href="http://docs.fireball-x.com">
          <img class="logo" src="http://docs.fireball-x.com/images/logo.png"
            title="Fireball Editor API">
        </a>
          <h1 class="project-name">firedoc</h1>
          <span class="project-version">1.9.2</span>
          <p class="description">Fireball is the game engine for the future.</p>
        </div>
        <ul class="jump-links">
          <li><a href="#index" class="index-jump-link">index</a></li>
          <li><a href="#top" class="top-jump-link">top</a></li>
        </ul>
    </div>
  </header>
  <div id="bd" class="main-body">
    <div id="docs-sidebar" class="sidebar apidocs"><div id="api-list" style="height:100%">
  <div id="api-tabview" class="tabview" style="height:100%">
    <div id="api-tabview-filter">
      <input type="search" id="api-filter" placeholder="Type to filter APIs">
    </div>
    <div id="api-tabview-panel">
      <ul id="api-items" class="apis items">
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="/modules/digesters.html">firedoc.digesters</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/modules/digesters.html#property_throws">
                        throws
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="private">
                      <a class="name" href="/modules/digesters.html#method_implodeString">
                        implodeString
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/modules/digesters.html#method_implodeString">
                        implodeString
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/digesters.html#method_params">
                        params
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/digesters.html#method_return">
                        return
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="/modules/firedoc.html">firedoc</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/modules/firedoc.html#property_IGNORE_TAGLIST">
                        IGNORE_TAGLIST
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/firedoc.html#property_CORRECTIONS">
                        CORRECTIONS
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/firedoc.html#property_SHORT_TAGS">
                        SHORT_TAGS
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/firedoc.html#property_NATIVES">
                        NATIVES
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/modules/firedoc.html#method_parse">
                        parse
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="/modules/helpers.html">firedoc.helpers</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/modules/helpers.html#method_renderFileTree">
                        renderFileTree
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/helpers.html#method_crossLink">
                        crossLink
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/helpers.html#method_crossLinkModule">
                        crossLinkModule
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/helpers.html#method_crossLinkRaw">
                        crossLinkRaw
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="/modules/tags.html">firedoc.tags</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_async">
                        async
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_author">
                        author
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_attribute">
                        attribute
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_beta">
                        beta
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_broadcast">
                        broadcast
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_bubbles">
                        bubbles
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_callback">
                        callback
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_category">
                        category
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_chainable">
                        chainable
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_class">
                        class
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_conditional">
                        conditional
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_config">
                        config
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_const">
                        const
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_constructs">
                        constructs
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_constructor">
                        constructor
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_contributor">
                        contributor
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_default">
                        default
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_deprecated">
                        deprecated
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_description">
                        description
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_YUI">
                        YUI
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_enum">
                        enum
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_event">
                        event
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_evil">
                        evil
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_extension">
                        extension
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_extensionfor">
                        extensionfor
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_extension_for">
                        extension_for
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_example">
                        example
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_experimental">
                        experimental
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_extends">
                        extends
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_file">
                        file
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_final">
                        final
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_fireonce">
                        fireonce
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_for">
                        for
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_global">
                        global
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_icon">
                        icon
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_in">
                        in
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_initonly">
                        initonly
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_injects">
                        injects
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_knownissue">
                        knownissue
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_line">
                        line
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_method">
                        method
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_module">
                        module
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_main">
                        main
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_optional">
                        optional
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_required">
                        required
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_param">
                        param
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_plugin">
                        plugin
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_preventable">
                        preventable
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_private">
                        private
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_process">
                        process
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_project">
                        project
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_logo">
                        logo
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_property">
                        property
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_protected">
                        protected
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_public">
                        public
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_queuable">
                        queuable
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_readonly">
                        readonly
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_requires">
                        requires
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_return">
                        return
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_see">
                        see
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_since">
                        since
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_static">
                        static
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_submodule">
                        submodule
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_description">
                        description
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_title">
                        title
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_todo">
                        todo
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_type">
                        type
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_url">
                        url
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_uses">
                        uses
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_value">
                        value
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/tags.html#property_writeonce">
                        writeonce
                      </a>
                    </li>
                </ul>
            
            
            
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="module" href="/modules/utils.html">firedoc.utils</a>
            <i class="flag">module</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_fmtProcess">
                        fmtProcess
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_getNamespace">
                        getNamespace
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_escapeHTML">
                        escapeHTML
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_safetrim">
                        safetrim
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_unindent">
                        unindent
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_filterFileName">
                        filterFileName
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_getFoundAt">
                        getFoundAt
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_getLayouts">
                        getLayouts
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_getPages">
                        getPages
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_getPartials">
                        getPartials
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_prepare">
                        prepare
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_fixType">
                        fixType
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_webpath">
                        webpath
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_localize">
                        localize
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_markdownLink">
                        markdownLink
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/modules/utils.html#method_buildFileTree">
                        buildFileTree
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/AST.html" 
              title="firedoc.AST">firedoc.AST</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_project">
                        project
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_files">
                        files
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_codes">
                        codes
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_modules">
                        modules
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_classes">
                        classes
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_members">
                        members
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_inheritedMembers">
                        inheritedMembers
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_namespacesMap">
                        namespacesMap
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_commentsMap">
                        commentsMap
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_syntaxType">
                        syntaxType
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#property_context">
                        context
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_create">
                        create
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_reset">
                        reset
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_oncomment">
                        oncomment
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_onblock">
                        onblock
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_ontag">
                        ontag
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_extract">
                        extract
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/AST.html#method_transform">
                        transform
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/BuilderContext.html" 
              title="firedoc.BuilderContext">firedoc.BuilderContext</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_ast">
                        ast
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_options">
                        options
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_helpers">
                        helpers
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_cacheView">
                        cacheView
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_template">
                        template
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_files">
                        files
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#property_viewExtname">
                        viewExtname
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_metadata">
                        metadata
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_addHelper">
                        addHelper
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_addHelpers">
                        addHelpers
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/BuilderContext.html#method__inlineCode">
                        _inlineCode
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/BuilderContext.html#method__parseCrossLink">
                        _parseCrossLink
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_populateClasses">
                        populateClasses
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_populateModules">
                        populateModules
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_populateFiles">
                        populateFiles
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_addFoundAt">
                        addFoundAt
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_mixExternal">
                        mixExternal
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_makeDirs">
                        makeDirs
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_init">
                        init
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_correctTheme">
                        correctTheme
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_compile">
                        compile
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_render">
                        render
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_writeApiMeta">
                        writeApiMeta
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/BuilderContext.html#method_NATIVES_LINKER">
                        NATIVES_LINKER
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/BuilderContext.html#method_compile">
                        compile
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/DocParser.html" 
              title="firedoc.DocParser">firedoc.DocParser</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/DocParser.html#property_TAGLIST">
                        TAGLIST
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="private">
                      <a class="name" href="/classes/DocParser.html#method_stringlog">
                        stringlog
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/DocParser.html#method_defineReadonly">
                        defineReadonly
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/DocView.html" 
              title="firedoc.DocView">firedoc.DocView</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/DocView.html#method_htmlTitle">
                        htmlTitle
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/DocView.html#method_title">
                        title
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/Firedoc.html" 
              title="firedoc.Firedoc">firedoc.Firedoc</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="private">
                      <a class="name" href="/classes/Firedoc.html#property_filecount">
                        filecount
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Firedoc.html#property_filemap">
                        filemap
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Firedoc.html#property_dirmap">
                        dirmap
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Firedoc.html#property_options">
                        options
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/Firedoc.html#method_walk">
                        walk
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Firedoc.html#method_walkOne">
                        walkOne
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Firedoc.html#method_build">
                        build
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/Locals.html" 
              title="firedoc.Locals">firedoc.Locals</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_context">
                        context
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_options">
                        options
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_ast">
                        ast
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_project">
                        project
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_i18n">
                        i18n
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_modules">
                        modules
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_classes">
                        classes
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#property_files">
                        files
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Locals.html#property__mergeCounter">
                        _mergeCounter
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_initMarkdownRulers">
                        initMarkdownRulers
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_addFoundAt">
                        addFoundAt
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_getMethodName">
                        getMethodName
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Locals.html#method__parseCode">
                        _parseCode
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Locals.html#method_markdown">
                        markdown
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_appendClassToModule">
                        appendClassToModule
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_getClassInheritanceTree">
                        getClassInheritanceTree
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_buildMember">
                        buildMember
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_buildMembers">
                        buildMembers
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_augmentData">
                        augmentData
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_mergeExtends">
                        mergeExtends
                      </a>
                    </li>
                    <li class="private">
                      <a class="name" href="/classes/Locals.html#method_getExpandIterator">
                        getExpandIterator
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_extendMembers">
                        extendMembers
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_expandMembersFromModules">
                        expandMembersFromModules
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_expandMembersFromModules">
                        expandMembersFromModules
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/Locals.html#method_create">
                        create
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
        <li>
          <div class="api-list-item-clickable wave-btn">
            <a class="class" 
              href="/classes/ParserContext.html" 
              title="firedoc.ParserContext">firedoc.ParserContext</a>
            <i class="flag">class</i>
          </div>
          <div class="members-list hidden">
            
            
                <h3>properties</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#property_file">
                        file
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#property_mainModule">
                        mainModule
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#property_module">
                        module
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#property_process">
                        process
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#property_submodule">
                        submodule
                      </a>
                    </li>
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#property_block">
                        block
                      </a>
                    </li>
                </ul>
            
            
            
                <h3>methods</h3>
                <ul class="apis members api-members">
                    <li class="">
                      <a class="name" href="/classes/ParserContext.html#method_reset">
                        reset
                      </a>
                    </li>
                </ul>
            
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
</div>
    <div id="docs-main" class="apidocs">
      <div class="content container"><h1 class="file-heading">File: lib_ast.js</h1>

<div class="file">
  <pre class="code prettyprint linenums">
/**
 * @module firedoc
 */

const _ = require(&#x27;underscore&#x27;);
const fs = require(&#x27;graceful-fs&#x27;);
const path = require(&#x27;path&#x27;);
const utils = require(&#x27;./utils&#x27;);
const debug = require(&#x27;debug&#x27;)(&#x27;firedoc:ast&#x27;);
const ParserContext = require(&#x27;./ast/context&#x27;).ParserContext;
const CWD = process.cwd();
const REGEX_LINES = /\r\n|\n/;
const REGEX_START_COMMENT = {
  js: /^\s*\/\*\*/,
  coffee: /^\s*###\*/
};
const REGEX_END_COMMENT = {
  js: /\*\/\s*$/,
  coffee: /###\s*$/
};
const REGEX_LINE_HEAD_CHAR = {
  js: /^\s*\*/,
  coffee: /^\s*[#\*]/
};

/**
 * A list of ignored tags. These tags should be ignored because there is
 * likely to be used for purposes other than JSDoc tags in JavaScript comments.
 * @property IGNORE_TAGLIST
 * @type Array
 * @final
 */
const IGNORE_TAGLIST = [&#x27;media&#x27;];

/**
 * Common errors will get scrubbed instead of being ignored.
 * @property CORRECTIONS
 * @type Object
 * @final
 */
const CORRECTIONS = require(&#x27;./ast/corrections&#x27;);

/**
 * Short tags
 * @property SHORT_TAGS
 * @type Object
 * @final
 */
const SHORT_TAGS = require(&#x27;./ast/short-tags&#x27;);

/**
 * A list of known tags.  This populates a member variable
 * during initialization, and will be updated if additional
 * digesters are added.
 *
 * @property TAGLIST
 * @type Array
 * @final
 * @for DocParser
 */
const TAGLIST = require(&#x27;./ast/tags&#x27;);
const DIGESTERS = require(&#x27;./ast/digesters&#x27;);

/**
 * The AST(Abstract syntax tree) of the comment
 *
 * @class AST
 */
var AST = {
  
  /**
   * @property {Object} project - About the project
   */
  project: {},

  /**
   * @property {Object} files - The files
   */
  files: {},

  /**
   * @property {Object} codes - The source codes
   */
  codes: {},

  /**
   * @property {Object} modules - The modules
   */
  modules: {},

  /**
   * @property {Object} classes - The classes
   */
  classes: {},

  /**
   * @property {Array} members - The members
   */
  members: [],

  /**
   * @property {Array} inheritedMembers - The inherited members
   */
  inheritedMembers: [],

  /**
   * @property {Object} namespacesMap - The namespaces map object
   */
  namespacesMap: {},

  /**
   * @property {Object} commentsMap - The comments map object
   */
  commentsMap: {},

  /**
   * @property {String} syntaxType - The syntax type
   */
  syntaxType: &#x27;js&#x27;,

  /**
   * @property {Context} context - The context object
   */
  context: null,

  /**
   * @proerty {Array} warnings - The parser warnings
   */
  warnings: [],

  /**
   * Create a AST object
   *
   * @method create
   * @param {Object} files - The files
   * @param {Object} dirs - The directorys
   * @param {String} [syntaxType] - The syntax type: &#x60;coffee&#x60; or &#x60;js&#x60;
   * @return {AST} the created AST object
   */
  create: function (files, dirs, syntaxType) {
    var instance = AST;
    instance.syntaxType = syntaxType || instance.syntaxType;
    instance.context = ParserContext;
    instance.context.ast = instance;
    instance.extract(files, dirs);
    instance.transform();
    return instance;
  },

  /**
   * Reset the AST instance
   *
   * @method reset
   */
  reset: function () {
    AST.project = {};
    AST.files = {};
    AST.codes = {};
    AST.modules = {};
    AST.classes = {};
    AST.members = [];
    AST.inheritedMembers = [];
    AST.commentsMap = {};
    AST.syntaxType = &#x27;js&#x27;;
    AST.warnings = [];
    if (AST.context &amp;&amp; AST.context.reset) {
      AST.context.reset();
      AST.context = null;
    }
    return AST;
  },

  /**
   *
   * @method oncomment
   * @param {String} comment
   * @param {String} filename
   * @param {String} linenum
   * @return {Object}
   */
  oncomment: function (comment, filename, linenum) {
    var lines = comment.split(REGEX_LINES);
    const len = lines.length;
    const lineHeadCharRegex = REGEX_LINE_HEAD_CHAR[this.syntaxType];
    const hasLineHeadChar = lines[0] &amp;&amp; lineHeadCharRegex.test(lines[0]);
    const r = new RegExp(&#x27;(?:^|\\n)\\s*((?!@&#x27; + IGNORE_TAGLIST.join(&#x27;)(?!@&#x27;) + &#x27;)@\\w*)&#x27;);

    var results = [
      {
        &#x27;tag&#x27;: &#x27;file&#x27;,
        &#x27;value&#x27;: filename
      },
      {
        &#x27;tag&#x27;: &#x27;line&#x27;,
        &#x27;value&#x27;: linenum
      }
    ];

    if (hasLineHeadChar) {
      lines = _.map(lines, function (line) {
        return line.trim().replace(lineHeadCharRegex, &#x27;&#x27;);
      });
    }

    const unidented = utils.unindent(lines.join(&#x27;\n&#x27;));
    const parts = unidented.split(r);

    var cursor = 0;
    for (; cursor &lt; parts.length; cursor++) {
      var skip;
      var val = &#x27;&#x27;;
      var part = parts[cursor];
      if (part === &#x27;&#x27;) continue;

      skip = false;
      // the first token may be the description, otherwise it should be a tag
      if (cursor === 0 &amp;&amp; part.substr(0, 1) !== &#x27;@&#x27;) {
        if (part) {
          tag = &#x27;@description&#x27;;
          val = part;
        } else {
          skip = true;
        }
      } else {
        tag = part;
        // lookahead for the tag value
        var peek = parts[cursor + 1];
        if (peek) {
          val = peek;
          cursor += 1;
        }
      }
      if (!skip &amp;&amp; tag) {
        results.push({
          tag: tag.substr(1).toLowerCase(),
          value: val || &#x27;&#x27;
        });
      }
    }
    return results;
  },

  /**
   * Processes all the tags in a single comment block
   * @method onblock
   * @param {Array} an array of the tag/text pairs
   */
  onblock: function (block) {
    var raw = _.reduce(block, onreduce, {});
    raw.line = Number(raw.line);

    this.context.block = {
      &#x27;self&#x27;: block,
      &#x27;target&#x27;: {
        &#x27;file&#x27;: raw.file,
        &#x27;line&#x27;: raw.line,
        &#x27;_raw&#x27;: raw
      },
      &#x27;host&#x27;: null,
      &#x27;digesters&#x27;: []
    };

    function onreduce (map, item) {
      var key = utils.safetrim(item.tag);
      var val = utils.safetrim(item.value);
      if (!map[key]) {
        map[key] = val;
      } else if (!_.isArray(map[key])) {
        map[key] = [map[key], val];
      } else {
        map[key].push(val);
      }
      return map;
    }

    // handle tags and push digesters to context.block.digesters
    _.each(block, this.ontag, this);
    // run digiesters
    _.each(this.context.block.digesters, ondigester, this);

    function ondigester (ctx) {
      var ret = ctx.fn.call(this, ctx.name, ctx.value,
        this.context.block.target, this.context.block.self);
      this.context.block.host = this.context.block.host || ret;
    }

    // post process
    if (this.context.block.host) {
      this.context.block.host = _.extend(
        this.context.block.host, this.context.block.target);
    } else {
      var target = this.context.block.target;
      target.clazz = this.context.clazz;
      target.module = this.context.module;
      target.isGlobal = (this.context.clazz === &#x27;&#x27;);
      target.submodule = this.context.submodule;

      // set namespace
      var ns = utils.getNamespace(target);
      if (ns) {
        this.namespacesMap[ns] = target;
        target.namespace = ns;

        var parent = this.classes[target.clazz] || this.modules[target.module];
        Object.defineProperty(target, &#x27;parent&#x27;, {
          enumerable: true,
          get: function () {
            return parent;
          }
        });

        target.process = target.process || parent.process;
      }

      if (target.itemtype) {
        this.members.push(target);
      } else if (target.isTypeDef) {
        var parent = this.classes[this.context.clazz] ||
          this.modules[this.context.module];
        if (!parent) return;
        parent.types[target.name] = target;
      }
    }
  },

  /**
   * Process tag
   * @method ontag
   * @param {Object} item
   * @param {String} item.tag
   * @param {Object} item.value
   */
  ontag: function (item) {
    var name = utils.safetrim(item.tag);
    var value = utils.safetrim(item.value);
    var file = this.context.block.target.file;

    if (SHORT_TAGS[name] &amp;&amp; value === &#x27;&#x27;) {
      value = 1;
    }

    if (TAGLIST.indexOf(name) === -1) {
      if (_.has(CORRECTIONS, name)) {
        // correction part
        // TODO(Yorkie): log the correction
        name = CORRECTIONS[name];
        item.tag = name;
      } else {
        // TODO(Yorkie): report the unknown correction
      }
    }

    if (_.has(DIGESTERS, name) === -1) {
      this.context.block.target[name] = value;
    } else {
      var digest = DIGESTERS[name];
      if (_.isString(digest)) {
        digest = DIGESTERS[digest];
      }

      var block = this.context.block;
      var target = block.target;
      if (target._raw.description)
        target.description = target._raw.description;
      if (target._raw.type)
        target.type = utils.fixType(target._raw.type);
      if (target._raw.extends)
        target.extends = utils.fixType(target._raw.extends);

      if (_.isFunction(digest)) {
        // here we only push and run later
        // because CORRECTION perhaps doesn&#x27;t apply the later tags.
        block.digesters.push({
          fn: digest,
          name: name,
          value: value
        });
      }
    }
  },

  /**
   * Accepts a map of filenames to file content.  Returns
   * a map of filenames to an array of API comment block
   * text.  This expects the comment to start with / **
   * on its own line, and end with * / on its own
   * line.  Override this function to provide an
   * alternative comment parser.
   *
   * @method extract
   * @param {Object} files
   * @param {Object} dirs
   */
  extract: function (files, dirs) {
    _.each(files, function (code, filename) {
      filename = path.relative(CWD, filename);
      this.codes[filename] = code;
      const lines = code.split(REGEX_LINES);
      const len = lines.length;
      var comment;
      var cursor = 0;
      for (; cursor &lt; len; cursor++) {
        var line = lines[cursor];
        if (REGEX_START_COMMENT[this.syntaxType].test(line)) {
          var comments = [];
          var linenum = cursor + 1;
          while (cursor &lt; len &amp;&amp;
            (!REGEX_END_COMMENT[this.syntaxType].test(line))) {
            comments.push(line);
            cursor += 1;
            line = lines[cursor];
          }
          comments.shift();
          comment = comments.join(&#x27;\n&#x27;);
          this.commentsMap[filename] = this.commentsMap[filename] || [];
          this.commentsMap[filename].push(this.oncomment(comment, filename, linenum));
        }
      }
    }, this);
  },

  /**
   * Transforms a map of filenames to arrays of comment blocks into a
   * JSON structure that represents the entire processed API doc info
   * and relationships between elements for the entire project.
   *
   * @method transform
   * @param {Object} commentmap The hash of files and parsed comment blocks
   * @return {Object} The transformed data for the project
   */
  transform: function () {
    _.each(this.commentsMap, function (blocks, filename) {
      this.context.file = filename;
      _.each(blocks, this.onblock, this);
    }, this);
  }

};

exports.AST = AST;
exports.DIGESTERS = DIGESTERS;
</pre>
</div>
</div>
    </div>
  </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/vendor/jquery.min.js"></script>
<script src="../assets/vendor/jquery-scrollto.js"></script>
<script src="../assets/vendor/highlight.min.js"></script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/apidocs.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
